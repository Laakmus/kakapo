---
import Layout from '@/layouts/Layout.astro';
import { HomeOffersPageLayout } from '@/components/HomeOffersPageLayout';

/**
 * Strona główna - lista ofert
 *
 * Dostępna pod / i /offers
 * Wymaga autoryzacji (ProtectedLayout)
 * Osadza Reactowy komponent HomeOffersPageLayout jako "islandę"
 */

export const prerender = false;

// Pobierz aktualną ścieżkę z URL
const currentPath = Astro.url.pathname;

// Token jest przechowywany w localStorage po stronie klienta
// AuthContext odczyta go automatycznie podczas inicjalizacji
const accessToken = undefined;
---

<Layout title="KAKAPO - Oferty">
  <HomeOffersPageLayout client:only="react" currentPath={currentPath} initialToken={accessToken} />
</Layout>
