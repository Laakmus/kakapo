---
import Layout from '@/layouts/Layout.astro';
import { ProfilePageLayout } from '@/components/ProfilePageLayout';

/**
 * Strona Profilu Użytkownika
 *
 * Dostępna pod /profile
 * Wymaga autoryzacji - pokazuje profil zalogowanego użytkownika
 * Osadza Reactowy komponent ProfilePageLayout jako "island"
 */

export const prerender = false;

// Pobierz aktualną ścieżkę z URL
const currentPath = Astro.url.pathname;

// Token jest przechowywany w localStorage po stronie klienta
// AuthContext odczyta go automatycznie podczas inicjalizacji
const accessToken = undefined;
---

<Layout title="KAKAPO - Profil">
  <ProfilePageLayout client:only="react" currentPath={currentPath} initialToken={accessToken} />
</Layout>
